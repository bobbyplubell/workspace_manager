# WorkspaceManager service â€” .env.example
# Copy this file to workspace_manager/.env and adjust values as needed.
#
# Only settings used by the WorkspaceManager service are included here.
# Unused or project-external variables have been intentionally omitted.


# ---------------------------------------
# Security
# ---------------------------------------
# API key required for authenticated requests. If unset, auth is disabled.
WORKSPACE_API_KEY=changeme-super-secret-token

# Header name the service expects for the API key.
WORKSPACE_API_KEY_HEADER=X-API-Key


# ---------------------------------------
# Defaults for workspace/container creation
# ---------------------------------------
# Default Docker image to use for new workspaces when plugins do not override it.
WORKSPACE_DEFAULT_IMAGE=ubuntu:22.04

# CPU limit per workspace (accepted formats: "1", "1.5", "2c", "0.5cpu").
WORKSPACE_DEFAULT_CPU=1c

# Memory limit per workspace (accepted formats: "512m", "2g", "1024").
WORKSPACE_DEFAULT_MEM=2g

# Default working directory inside the container where files/commands operate.
CONTAINER_WORKSPACE_DIR=/tmp/workspace


# ---------------------------------------
# Docker client and runtime behavior
# ---------------------------------------
# Docker SDK client timeout in seconds (for API calls).
DOCKER_CLIENT_TIMEOUT=180

# Optional platform hint for running images on non-native architectures (e.g., Apple Silicon).
# Leave unset if your image matches the host architecture.
# Example: linux/amd64
DOCKER_PLATFORM=


# ---------------------------------------
# Workspace lifecycle and cleanup
# ---------------------------------------
# Idle time-to-live in seconds. Workspaces idle longer than this may be stopped/removed
# by the background janitor loop (set to 0 or unset to disable TTL-based cleanup).
WORKSPACE_IDLE_TTL_SECONDS=7200

# Interval in seconds between janitor sweeps. Minimum enforced is 10 seconds.
WORKSPACE_JANITOR_INTERVAL_SECONDS=3600

# Container name prefix used when creating workspace containers.
WORKSPACE_CONTAINER_PREFIX=wm_ws_


# ---------------------------------------
# Features
# ---------------------------------------
# Enable Docker checkpoints endpoints (requires daemon support). Use: true|false
WORKSPACE_ENABLE_CHECKPOINTS=true

# Optional shared tools volume used by certain plugins (e.g., Splunk tooling caches).
WORKSPACE_TOOLS_VOLUME=wm_tools_cache


# ---------------------------------------
# Service and logging
# ---------------------------------------
# Service version string reported by /health (informational).
WORKSPACE_MANAGER_VERSION=0.1.0

# Logging verbosity for the service. One of: CRITICAL, ERROR, WARNING, INFO, DEBUG
LOG_LEVEL=INFO


# ---------------------------------------
# CORS
# ---------------------------------------
# Comma-separated list of allowed origins for CORS (e.g., "http://localhost:3000,http://127.0.0.1:3000").
# Use "*" to allow all origins in local/dev scenarios.
CORS_ALLOW_ORIGINS=*
